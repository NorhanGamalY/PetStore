<section class="my-12 px-6 md:px-20">
  <div class="flex items-center justify-center gap-6 mb-10">
    <button
      (click)="prev()"
      [disabled]="categories().length <= visibleCount || startIndex() === 0"
      class="flex items-center justify-center h-12 w-12 bg-white/80 border border-gray-200 rounded-full shadow-sm hover:shadow-md hover:bg-gray-100 text-3xl text-gray-700 font-bold backdrop-blur-sm transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105"
    >
      ‹
    </button>

    <h2 class="text-3xl font-bold text-gray-900 text-center tracking-tight select-none">
      Browse by Category
    </h2>

    <button
      (click)="next()"
      [disabled]="
        categories().length <= visibleCount || startIndex() + visibleCount >= categories().length
      "
      class="flex items-center justify-center h-12 w-12 bg-white/80 border border-gray-200 rounded-full shadow-sm hover:shadow-md hover:bg-gray-100 text-3xl text-gray-700 font-bold backdrop-blur-sm transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105"
    >
      ›
    </button>
  </div>

  <div *ngIf="loading()" class="text-center text-gray-500 py-10">Loading categories...</div>

  <div
    *ngIf="!loading()"
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 transition-all duration-300 ease-in-out"
  >
    <div
      *ngFor="let cat of visibleCategories(); trackBy: trackById"
      (click)="onCategoryClick(cat)"
      class="bg-white shadow-sm rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300"
    >
      <div
        class="h-40 bg-cover bg-center"
        [style.background-image]="'url(' + cat.image + ')'"
      ></div>
      <div class="p-4">
        <h3 class="text-lg font-semibold text-gray-800">{{ cat.name }}</h3>
        <p class="text-gray-500 text-sm">{{ cat.productCount }} products</p>
      </div>
    </div>
  </div>
</section>
